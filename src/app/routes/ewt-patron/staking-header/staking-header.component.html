<div class="header-wrapper d-flex flex-grow-1 justify-content-end">
  <ng-container *ngIf="(loggedIn$ | async)">
    <ng-container *ngIf="(accountInfo$ | async) as info">
      <div class="f-14">{{info.accountInfo.account | json}}</div>

      <div class="btn-user-info" [matMenuTriggerFor]="menu">
        <div class="d-flex align-items-center ml-3 ml-md-0 flex-row">
          <div class="d-none d-md-flex flex-column align-items-end ml-2 mr-2">
            <div class="account-title">{{info?.userName}}</div>

          </div>
          <img class="img-thumbnail rounded-circle" src="../assets/img/identity-image.png" width="34"
               height="34" alt="Identity image">
          <mat-icon>arrow_drop_down</mat-icon>
        </div>
      </div>
      <mat-menu #menu="matMenu" xPosition="before">
        <div class="d-flex justify-content-center flex-column py-2 px-3">
          <div class="d-flex justify-content-between mb-2">
            <div class="network">
              <mat-icon class="color-success mr-1">circle</mat-icon>
              {{info.accountInfo.chainName}}
            </div>
            <div class="wallet"><img [src]="getIcon(info.wallet)" width="28"/></div>
          </div>
          <div>
            <div class="d-flex flex-column align-items-center mt-3">
              <img class="img-thumbnail rounded-circle mb-3" src="../assets/img/identity-image.png" width="48"
                   height="44" alt="Identity image">
              <div class="account-name">{{info?.userName}}</div>
            </div>
            <div class="d-flex align-items-center justify-content-center did-wrapper mx-2 px-3"
                 appCopyToClipboard [copyClipboard]="info?.accountInfo?.account" message="User Did">
              <div class="f-14">{{info?.accountInfo?.account | didFormatMinifier}}</div>
              <mat-icon class="ml-2 color-white">content_copy</mat-icon>
            </div>
          </div>
          <app-divider></app-divider>
          <button mat-raised-button data-qa-id="logout" class="connect-btn color-white text-uppercase my-2"
                  (click)="logOut()">Disconnect from Metamask
          </button>
        </div>
      </mat-menu>
    </ng-container>
  </ng-container>
</div>
